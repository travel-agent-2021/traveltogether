<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<!-- 引入boostrap -->
<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/pagination.css" rel="stylesheet">
<script src="js/jquery-3.4.1.min.js"></script>
<script src="js/bootstrap.js"></script>
<script src="js/jquery.pagination.js"></script>
<style type="text/css">
.bg-snow {
	background-color: #FFFAFA;
}
</style>
<title>教师系统</title>
</head>
<body>
	<form name="teacherForm"
		action="<%=basePath%>/teacher/teacherHome.action" method="post">
		<!-- 导航栏 -->
		<nav class="navbar navbar-default" role="navigation"
			style="width: 1600px">
			<div class="container-fluid" style="white-space: nowrap">
				<div style="white-space: nowrap">
					<ul class="nav navbar-nav" style="float: left">
						<li style="float: left"><a class="navbar-brand">欢迎，${username }老师</a>
						<li class="active" style="float: left"><a
							href="<%=basePath%>/teacher/teacherHome.action">试题系统</a></li>
						<li style="float: left"><a
							href="<%=basePath%>/teacher/queryTest.action">试卷查看</a></li>
					</ul>
				</div>
				<div class="navbar-brand"
					style="left: 1435px; top: 2px; position: absolute">
					<a class="navvar-brand" href="<%=basePath%>/logout.action">退出登录</a>
				</div>
			</div>
		</nav>
		<div class="bg-snow"
			style="width: 200px; height: 100%; top: 50px; position: absolute">
			<div class="navbar navbar-default" id="mycollapse"
				style="width: 200px; height: 100%; left: 0px; position: absolute">
				<ul class="nav nav-pills nav-stacked bg-info">
					<li><a href="#choose" class="second-level accordion-toggle"
						data-toggle="collapse" data-parent="#mycollapse"> <i
							class="fa fa-table fa-fw"></i> <span
							class="glyphicon glyphicon-list-alt"></span>选择题 <i
							class="fa fa-angle-left pull-right"></i>
					</a>
						<ul class="nav collapse" id="choose">
							<li class="bg-snow"><a
								href="<%=basePath%>/teacher/teacherHome.action?proType=选择题&chaTitle=死锁">死锁</a></li>
							<li class="bg-snow"><a
								href="<%=basePath%>/teacher/teacherHome.action?proType=选择题&chaTitle=邓小平理论">邓小平理论</a></li>
							<li class="bg-snow"><a
								href="<%=basePath%>/teacher/teacherHome.action?proType=选择题&chaTitle=软件维护">软件维护</a></li>
						</ul></li>
					<li><a href="#blanks" class="second-level accordion-toggle"
						data-toggle="collapse" data-parent="#mycollapse"> <i
							class="fa fa-table fa-fw"></i> <span
							class="glyphicon glyphicon-list-alt"></span>填空题 <i
							class="fa fa-angle-left pull-right"></i>
					</a>
						<ul class="nav collapse" id="blanks">
							<li class="bg-snow"><a
								href="<%=basePath%>/teacher/teacherHome.action?proType=填空题&chaTitle=资源调度">资源调度</a></li>
							<li class="bg-snow"><a
								href="<%=basePath%>/teacher/teacherHome.action?proType=填空题&chaTitle=类图">类图</a></li>
						</ul></li>
					<li><a href="#TOF" class="second-level accordion-toggle"
						data-toggle="collapse" data-parent="#mycollapse"> <i
							class="fa fa-table fa-fw"></i> <span
							class="glyphicon glyphicon-list-alt"></span>判断题 <i
							class="fa fa-angle-left pull-right"></i>
					</a>
						<ul class="nav collapse" id="TOF">
							<li class="bg-snow"><a
								href="<%=basePath%>/teacher/teacherHome.action?proType=判断题&chaTitle=PV操作">PV操作</a></li>
						</ul></li>
					<li><a href="#answer" class="second-level accordion-toggle"
						data-toggle="collapse" data-parent="#mycollapse"> <i
							class="fa fa-table fa-fw"></i> <span
							class="glyphicon glyphicon-list-alt"></span>简答题 <i
							class="fa fa-angle-left pull-right"></i>
					</a>
						<ul class="nav collapse" id="answer">
							<li class="bg-snow"><a
								href="<%=basePath%>/teacher/teacherHome.action?proType=简答题&chaTitle=文件管理">文件管理</a></li>
							<li class="bg-snow"><a
								href="<%=basePath%>/teacher/teacherHome.action?proType=简答题&chaTitle=三个代表思想">三个代表思想</a></li>
							<li class="bg-snow"><a
								href="<%=basePath%>/teacher/teacherHome.action?proType=简答题&chaTitle=软件工程">软件工程</a></li>
						</ul></li>
						<li class="bg-info"><a
								href="<%=basePath%>/teacher/teacherHome.action?proType=&chaTitle=">
								<span
							class="glyphicon glyphicon-list-alt"></span>全部</a></li>
				</ul>
			</div>
		</div>

		<!-- 试题列表 -->
		<div
			style="width: 1336px; left: 200px; top: 70px; position: absolute;">
			<input type="hidden" id="num_entries" value="${problemList.size() }">
			<table class="table table-hover">
				<caption>
					<span style="font-size: 20px; font-weight: bold; font-color: black">试题列表</span>
					<!-- 搜索框 -->
					<div
						style="width: 400px; left: 680px; top: 0px; position: absolute">
						<form class="bs-example bs-example-form" role="form">
							<div class="row">
								<div class="col-lg-6">
									<div class="input-group">
										<input type="text" name="problemName" class="form-control"
											style="width: 310px"> <span class="input-group-btn">
											<button class="btn btn-default" type="button"
												onclick="search()">
												<span class="glyphicon glyphicon-search"></span>
											</button>
										</span>
									</div>
								</div>
							</div>
						</form>
					</div>
				</caption>
				<!-- 列表标题 -->
				<thead>
					<tr>
						<th style="width: 10%">选择</th>
						<th style="width: 20%">关键字</th>
						<th style="width: 10%">难度系数</th>
						<th style="width: 10%">所属章节编号</th>
						<th style="width: 10%">所属章节标题</th>
						<th style="width: 20%">所属章节要点</th>
						<th style="width: 10%">习题类型</th>
						<th style="width: 5%">细节</th>
						<th style="width: 5%">修改</th>
					</tr>
				</thead>
				<!-- 列表内容 -->
				<tbody id="searchResult"></tbody>

				<tbody id="hiddenResult" style="display: none">
					<c:forEach items="${problemList }" var="item" varStatus="status">
						<tr class="result${status.index }">
							<td class="select"><input type="checkbox" name="pro_nos"
								value="${item.proNo }"></td>
							<td class="select">${item.proKeyw }</td>
							<td class="select">${item.proDif }/10</td>
							<td class="select">${item.chaNo }</td>
							<td class="select">${item.chaTitle }</td>
							<td class="select">${item.chaMpoint }</td>
							<td class="select">${item.proType }</td>
							<!-- 查看试题内容的按钮 -->
							<td><a style="cursor: pointer"
								data-target="#detail${status.index }" data-toggle="modal">查看</a></td>
							<!-- 弹出框 -->
							<div class="modal fade" id="detail${status.index }" role="dialog"
								data-backdrop="static" data-keyboard="false">
								<div class="modal-dialog">
									<div class="modal-content">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal"
												onclick="">
												<span>x</span>
											</button>
											<h4 class="modal-title" id="myModalLabel">试题内容</h4>
										</div>
										<div class="modal-body">
											试题内容:<br>
											<textarea readonly rows="10" cols="75"
												style="font-size: 15px; resize: none">${item.proDetail }</textarea>
											<br> 答案：<br>
											<textarea readonly rows="5" cols="75"
												style="font-size: 15px; resize: none">${answerList[status.index] }</textarea>
										</div>
										<div class="modal-footer">
											<button type="button" class="btn btn-primary"
												data-dismiss="modal">确定</button>
										</div>
									</div>
								</div>
							</div>
							<!-- 修改试题内容的按钮 -->
							<td><a style="cursor: pointer"
								data-target="#revision${status.index }" data-toggle="modal">修改</a></td>
							<!-- 弹出框 -->
							<div class="modal fade" id="revision${status.index }"
								role="dialog" data-backdrop="static" data-keyboard="false">
								<div class="modal-dialog">
									<div class="modal-content">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal"
												onclick="formReset(editform${status.index})">
												<span>x</span>
											</button>
											<h4 class="modal-title" id="myModalLabel">试题内容</h4>
										</div>
										<form class="modal-body" name="editform${status.index }"
											method="post">
											<input type="hidden" name="proNo" value="${item.proNo }">
											试题内容
											<TextArea name="proDetail" class="form-control" rows="5"
												cols="9" style="font-size: 15px; resize: none">${item.proDetail }</TextArea>
											关键字<input type="text" name="proKeyw" class="form-control"
												value="${item.proKeyw }" style="font-size: 15px">
											难度系数<input type="text" name="proDif" class="form-control"
												value="${item.proDif }" style="font-size: 15px">
											所属章节编号<input type="text" name="chaNo" class="form-control"
												value="${item.chaNo }" style="font-size: 15px">
											所属章节标题<input type="text" name="chaTitle" class="form-control"
												value="${item.chaTitle }" style="font-size: 15px">
											所属章节要点<input type="text" name="chaMpoint"
												class="form-control" value="${item.chaMpoint }"
												style="font-size: 15px"> 习题类型<input type="text"
												name="proType" class="form-control" value="${item.proType }"
												style="font-size: 15px"> 答案
											<textarea name="ansDetail" class="form-control" rows="5"
												cols="9" style="font-size: 15px; resize: none">${answerList[status.index] }</textarea>
											<input type="hidden" name="proAnsno"
												value="${item.proAnsno }">
										</form>
										<div class="modal-footer">
											<input type="button" value="确定" class="btn btn-primary"
												onclick="check(editform${status.index}, revision${status.index })">
											<button type="button" class="btn btn-default"
												data-dismiss="modal"
												onclick="formReset(editform${status.index})">取消</button>
										</div>
									</div>
								</div>
							</div>
						</tr>
					</c:forEach>
				</tbody>
			</table>
			<div id="Pagination" class="pagination" style="left: 550px; top: 500px; position: absolute"></div>
		</div>
		<!-- 删除按钮 -->
		<div style="left: 1270px; top: 70px; position: absolute">
			<p>
				<button type="button" class="btn btn-danger"
					onclick="deleteProblem()">删除选中</button>
			</p>
		</div>
		<!-- 添加试题按钮 -->
		<div style="left: 1370px; top: 70px; position: absolute">
			<p>
				<button type="button" class="btn btn-primary" data-target="#add"
					data-toggle="modal" style="float: right">添加试题</button>
			</p>
		</div>
		<div style="left: 1470px; top: 70px; position: absolute">
			<p>
				<button type="button" class="btn btn-primary" style="float: right"
					onclick="create_test()">生成试卷</button>
			</p>
		</div>
		<!-- 弹出框 -->
		<div class="modal fade" id="add" role="dialog" data-backdrop="static"
			data-keyboard="false">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">
							<span>x</span>
						</button>
						<h4 class="modal-title" id="myModalLabel">试题内容</h4>
					</div>
					<form class="modal-body" name="addForm" id="form_add"
						action="<%=basePath%>/teacher/addProblem.action" method="post">
						试题内容
						<textarea name="proDetail" class="form-control" rows="5" cols="9"
							style="font-size: 15px; resize: none"></textarea>
						关键字<input type="text" name="proKeyw" class="form-control" value=""
							style="font-size: 15px"> 难度系数<input type="text"
							name="proDif" class="form-control" value=""
							style="font-size: 15px"> 所属章节编号<input type="text"
							name="chaNo" class="form-control" value=""
							style="font-size: 15px"> 所属章节标题<input type="text"
							name="chaTitle" class="form-control" value=""
							style="font-size: 15px"> 所属章节要点<input type="text"
							name="chaMpoint" class="form-control" value=""
							style="font-size: 15px"> 习题类型<input type="text"
							name="proType" class="form-control" value=""
							style="font-size: 15px"> 答案
						<textarea name="ansDetail" rows="5" cols="5" class="form-control"
							style="font-size: 15px; resize: none"></textarea>
					</form>
					<div class="modal-footer">
						<input type="button" value="确定" class="btn btn-primary"
							onclick="check_add()">
					</div>
				</div>
			</div>
		</div>
		<div class="modal fade" id="create" role="dialog"
			data-backdrop="static" data-keyboard="false">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">
							<span>x</span>
						</button>
						<h4 class="modal-title" id="myModalLabel">试题内容</h4>
					</div>
					<div class="modal-body" id="create_test">
						试卷名<input type="text" name="tstName" id="tstName"
							class="form-control" value="" style="font-size: 15px">
						创建时间<input type="text" name="tstTime" id="tstTime"
							class="form-control" value="" style="font-size: 15px">
						试卷类型<input type="text" name="tstType" id="tstType"
							class="form-control" value="" style="font-size: 15px">
						试卷难度<input type="text" name="tstDif" id="tstDif"
							class="form-control" value="" style="font-size: 15px">
						试卷总分<input type="text" name="tstScore" id="tstScore"
							class="form-control" value="" style="font-size: 15px">
					</div>
					<div class="modal-footer">
						<input type="button" value="确定" class="btn btn-primary"
							onclick="create_check()">
					</div>
				</div>
			</div>
		</div>
	</form>
</body>
</html>